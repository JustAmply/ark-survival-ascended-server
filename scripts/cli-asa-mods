#!/usr/bin/env python3
"""Output enabled mods for server startup.

Relocated from project root to scripts/ for repository cleanliness.
"""
import sys
import os

PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
if PROJECT_ROOT not in sys.path:
    sys.path.insert(0, PROJECT_ROOT)

from asa_ctrl.mods import format_mod_list_for_server  # noqa: E402


def main() -> int:
    try:
        print(format_mod_list_for_server(), end="")
        return 0
    except Exception as e:  # noqa: BLE001
        # Do not fail container start â€“ log to temp file for debugging.
        try:
            with open('/tmp/mod-read-error', 'w', encoding='utf-8') as f:
                f.write(str(e))
        except Exception:
            pass
        print('', end='')
        return 0


if __name__ == '__main__':  # pragma: no cover
    raise SystemExit(main())
